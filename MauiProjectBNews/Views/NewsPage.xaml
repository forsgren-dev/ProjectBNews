<ContentPage xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
             xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
             x:Class="MauiProjectBNews.Views.NewsPage"
             BackgroundColor="White"
             Shell.BackgroundColor="CornflowerBlue"
             Shell.TitleColor="White">
    <ContentPage.ToolbarItems>
        <ToolbarItem x:Name="LastFetched"
                     Text="Last updated: -"
                     Priority ="0"
                     Order="Primary">
        </ToolbarItem>
        <ToolbarItem Text="- REFRESH -"
                     Priority="0"
                     Order="Primary"
                     Clicked="OnRefreshClicked" />
    </ContentPage.ToolbarItems>
    <CollectionView x:Name="NewsList"
                    SelectionMode="Single"
                    SelectionChanged="NewsList_SelectionChanged">
        <CollectionView.ItemTemplate>
            <DataTemplate>

                <Grid Padding="12"
                          ColumnDefinitions="80,*"
                          RowDefinitions="Auto,Auto"
                          ColumnSpacing="12">
                    <Image Grid.Column="0"
                           Grid.RowSpan="2"
                           WidthRequest="80"
                           HeightRequest="60"
                           Aspect="AspectFill"
                           Source="{Binding UrlToImage}" />
                    <Label Grid.Column="1" 
                        Text="{Binding Title}" 
                           FontAttributes="Bold" 
                           FontSize="Subtitle"/>
                    <Label Grid.Column="1" 
                           Grid.Row="1"
                        Text="{Binding DateTime, StringFormat='{0:yyyy-MM-dd HH:mm}'}"
                       FontSize="12" Opacity="0.7" />
                </Grid>
            </DataTemplate>
        </CollectionView.ItemTemplate>
    </CollectionView>
</ContentPage>